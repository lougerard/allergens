var produits = {
        "beurre_alu" : {"code":"100501", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"beurre_campagne" : {"code":"503", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"maredsous" : {"code":"441", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"kiri" : {"code":"479", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},	
		"creme_fraiche" : {"code":"16402", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"lait_ecreme" : {"code":"1986", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"oeufs" : {"code":"100153", "Lait":false, "Gluten":false, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"brownie_choco" : {"code":"541427", "Lait":true, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":true, "Moutarde":false, 
					"Sesame":true, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":true},
		"frangipane" : {"code":"548046", "Lait":true, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":true, "F. a coque":true, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":true},		
		"flan_vanile" : {"code":"1607", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"mascarpone" : {"code":"187238", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"pudding_vanille" : {"code":"1473", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"chausson_pommes" : {"code":"349147", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"eclair" : {"code":"21973", "Lait":false, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"compote_peches" : {"code":"542222", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"cake_abricot" : {"code":"531293", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"gouda_jeune_tranche" : {"code":"102001", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"camembert_8p" : {"code":"615", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"emmental_rape" : {"code":"180", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"chair_moule" : {"code":"21844", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"thon" : {"code":"17221", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":true, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"saumon_tranche" : {"code":"5190", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":true, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"crevette" : {"code":"20791", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":true, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"margarine_liq" : {"code":"1030", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"demi_peches" : {"code":"23060", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false}, 
		"croquette" : {"code":"387723", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false}, 
		"sauce_aigre_douce" : {"code":"5000", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":true, "Sulfite":false, "Soja":false}, 					
		"roux_brun" : {"code":"4319", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},	
		"roux_blanc" : {"code":"4320", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"mayonnaise" : {"code":"4998", "Lait":false, "Gluten":false, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":true, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sauce_pickles" : {"code":"18379", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":true, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"puree" : {"code":"15000", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":true, "Soja":false},
		"pois_casse" : {"code":"4571", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"ble_10" : {"code":"604504", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"ble_5" : {"code":"604506", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},	
		"sucrem_nova" : {"code":"541909", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sorbet_citron" : {"code":"360091", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sorbet_framb" : {"code":"360457", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sorbet_poire" : {"code":"360451", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sorbet_passion" : {"code":"360456", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"mini_eclair" : {"code":"340037", "Lait":true, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":true},			
		"yaourt_demi_ecreme_fruits"	: {"code":"100100", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},		
		"madeleine" : {"code":"16509", "Lait":false, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false}				
		
};

var Allergenes = ["Lait", "Gluten", "Oeuf", "Poisson", "Crustace", "Mollusque", "Arachide",
				"F. a coque" , "Moutarde", "Sesame", "Lupin", "Celeri", "Sulfite", "Soja"];
//var produits = new Object();
/*
*    CODE DE REFERENCE : 7 chiffres max pour mon tableau, si + ==> a voir pour la taille
*/
function creeTab() {
    /*var produits = {
        beurre: {lait:true fruitCoque:false}
	}*/

    //ajout();

    /*if (produits["Beurre"].Lait) {document.getElementById("00").innerHTML = "X"}
		if (produits[value].Lait) {document.getElementById("5").innerHTML = "X"} and value is String
    }*/

    var tabl = "<table id=cssTableM><tr><td>Articles-Ingredients </td><td> Code ref </td><td> Quantite </td>";
    for (var i = 1; i < Allergenes.length+1; i++) {
        tabl += "<td>" + " " + i + ") " +Allergenes[i-1] + "</td>";
    }
	tabl += "</tr>"
  
	for (var i = 0; i < 17; i++) {
		tabl += "<td><input type=text style=border:none class=produit id=prod"+ i +"></td><td id=ref" + i + "></td><td><input type=text style=border:none id=quantite name=produit></td>";
		for (var j = 0; j < 14; j++){
		  var k = "" + j;
		  tabl += "<td id=" + i+k + "></td>";
		}
		tabl += "</tr>";
	}
	tabl += "</table>";
    
	document.getElementById("tabl").innerHTML = tabl;
}
function test(t){
	for (var i=0; i< 14;i++){
		var y = t.id.substr(-1) + i;
		document.getElementById(y).innerHTML = "";
	}
	var t2 = (t.value).toLowerCase();
  console.log(produits[t2]);
  if(produits[t2] == undefined){
    console.log("erreur");
  }else{
	  document.getElementById("ref" + t.id.substr(-1)).innerHTML = produits[t2].code;
    for(var i = 0; i < Allergenes.length; i++){
      var tab = Allergenes[i];
       if(produits[t2][tab]){
       var y = t.id.substr(-1) + i;
	   
        document.getElementById(y).innerHTML = "X";
      } 
    }
  }
}
/*function ajout() {
	//alert('coucou !');
	var nom = document.getElementById("newP").innerHTML; // pas bon
	var cod = document.getElementById("newC").innerHTML; //pas bon
	var laitB = document.getElementById("lait").checked;
	var glutenB = document.getElementById("gluten").checked;
	var oeufB = document.getElementById("oeuf").checked;
	var poissonB = document.getElementById("poisson").checked;
	var crustaceB = document.getElementById("crustace").checked;
	var mollusqueB = document.getElementById("mollusque").checked;
	var arachideB = document.getElementById("arachide").checked;
	var coqueB = document.getElementById("f. a coque").checked;
	var moutardeB = document.getElementById("moutarde").checked;
	var sesameB = document.getElementById("sesame").checked;
	var lupinB = document.getElementById("lupin").checked;
	var celeriB = document.getElementById("celeri").checked;
	var sulfiteB = document.getElementById("sulfite").checked;
	var sojaB = document.getElementById("soja").checked;
	cod = ""+cod+"";
	produits.maredsous = {"code":cod, "Lait":laitB, "Gluten":glutenB, "Oeuf":oeufB, "Poisson":poissonB, "Crustace":crustaceB, 
					"Mollusque":mollusqueB, "Arachide":arachideB, "F. a coque":coqueB, "Moutarde":moutardeB, 
					"Sesame":sesameB, "Lupin":lupinB, "Celeri":celeriB, "Sulfite":sulfiteB, "Soja":sojaB};
	/*produits.beurre_alu = {"code":"100501", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false};
	produits.beurre_campagne = {"code":"503", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false};
	produits.maredsous = {"code":"441", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false};
	console.log(produits["maredsous"]["Lait"]);
	console.log(produits["maredsous"]["Gluten"]);
	console.log(produits["maredsous"]["code"]);
	console.log(cod);
	console.log(nom);
}*/
/*function printProduit() {
	ajout();
	//var produitExist = "<table id=TableProduit><tr><td> Produits </td><td> Code ref </td>";
	var produitExist = "<table id=TableProduit>";
	var cle = Object.keys(produits);
	for(var i=0; i<3; i++) {
		var code = produits[cle[i]].code;
		produitExist += "<tr><td>"+ cle[i] +"</td><td> "+ code + " </td></tr>";
	}
	
	produitExist += "</tr></table>";
	document.getElementById("tableauP").innerHTML = produitExist;
}*/

// pour mettre des croix dans les cases ou l'innerHTML = 1
//document.getElementById("5").innerHTML = "X"