var produits = {
        "beurre alu" : {"code":"100501", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"beurre campagne" : {"code":"503", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"maredsous" : {"code":"441", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"kiri" : {"code":"479", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},	
		"creme fraiche" : {"code":"16402", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"lait demi ecreme" : {"code":"1986", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"oeufs" : {"code":"100153", "Lait":false, "Gluten":false, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"brownie chocolat" : {"code":"541427", "Lait":true, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":true, "Moutarde":false, 
					"Sesame":true, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":true},
		"frangipane" : {"code":"548046", "Lait":true, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":true, "F. a coque":true, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":true},		
		"flan vanille" : {"code":"1607", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"mascarpone" : {"code":"187238", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"pudding vanille" : {"code":"1473", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"chausson pommes" : {"code":"349147", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"eclair" : {"code":"21973", "Lait":false, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"compote peches" : {"code":"542222", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"cake abricot" : {"code":"531293", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"gouda jeune tranches" : {"code":"102001", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"camembert 8p" : {"code":"615", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"emmental rape" : {"code":"180", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		"chair moule" : {"code":"21844", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"thon" : {"code":"17221", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":true, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"saumon tranche" : {"code":"5190", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":true, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"crevette" : {"code":"20791", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":true, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"margarine liquide" : {"code":"1030", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"demi peches" : {"code":"23060", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false}, 
		"croquettes" : {"code":"387723", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false}, 
		"sauce aigre douce" : {"code":"5000", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":true, "Sulfite":false, "Soja":false}, 					
		"roux brun" : {"code":"4319", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},	
		"roux blanc" : {"code":"4320", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"mayonnaise" : {"code":"4998", "Lait":false, "Gluten":false, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":true, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sauce pickles" : {"code":"18379", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":true, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"puree" : {"code":"15000", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":true, "Soja":false},
		"pois casse" : {"code":"4571", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"ble 10" : {"code":"604504", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"ble 5" : {"code":"604506", "Lait":false, "Gluten":true, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},	
		"sucrem nova" : {"code":"541909", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sorbet citron" : {"code":"360091", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sorbet framboise" : {"code":"360457", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sorbet poire" : {"code":"360451", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"sorbet passion" : {"code":"360456", "Lait":false, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},
		"mini eclair" : {"code":"340037", "Lait":true, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":true},			
		"yaourt demi ecreme fruits"	: {"code":"100100", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},		
		"madeleine" : {"code":"16509", "Lait":false, "Gluten":true, "Oeuf":true, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false},			
		property : 43
};
var prodTest = new Object();
var Allergenes = ["Lait", "Gluten", "Oeuf", "Poisson", "Crustace", "Mollusque", "Arachide",
				"F. a coque" , "Moutarde", "Sesame", "Lupin", "Celeri", "Sulfite", "Soja"];
//var produits = new Object();
/*
*    CODE DE REFERENCE : 7 chiffres max pour mon tableau, si + ==> a voir pour la taille
*/
function creeTab() {
    /*var produits = {
        beurre: {lait:true fruitCoque:false}
	}*/

    //ajout();

    /*if (produits["Beurre"].Lait) {document.getElementById("00").innerHTML = "X"}
		if (produits[value].Lait) {document.getElementById("5").innerHTML = "X"} and value is String
    }*/

    var tabl = "<table id=cssTableM><tr><td>Articles-Ingredients </td><td> Code ref </td><td> Quantite </td>";
    for (var i = 1; i < Allergenes.length+1; i++) {
        tabl += "<td>" + " " + i + ") " +Allergenes[i-1] + "</td>";
    }
	tabl += "</tr>"
  
	for (var i = 0; i < 17; i++) {
		//tabl += "<td><form id=form autocomplete=on><input type=text style=border:none class=produit id=prod"+ i +"></td><td id=ref" + i + "></form></td><td><input type=text style=border:none id=quantite name=produit></td>";
		tabl += "<td><input type=text onchange=autoselect() style=border:none class=produit id=prod"+ i +"></td><td id=ref" + i + "></td><td><input type=text style=border:none id=quantite name=produit></td>";
		for (var j = 0; j < 14; j++){
		  var k = "" + j;
		  tabl += "<td id=" + i+k + "></td>";
		}
		tabl += "</tr>";
	}
	tabl += "</table>";
    
	document.getElementById("tabl").innerHTML = tabl;
}
function test(t){
	for (var i=0; i< 14;i++){
		var y = t.id.substr(-1) + i;
		document.getElementById(y).innerHTML = "";
		document.getElementById("ref" + t.id.substr(-1)).innerHTML = "";
	}
	var t2 = (t.value).toLowerCase();
  console.log(produits[t2]);
  if(produits[t2] == undefined){
    console.log("erreur");
  }else{
	  document.getElementById("ref" + t.id.substr(-1)).innerHTML = produits[t2].code;
    for(var i = 0; i < Allergenes.length; i++){
      var tab = Allergenes[i];
       if(produits[t2][tab]){
       var y = t.id.substr(-1) + i;
	   
        document.getElementById(y).innerHTML = "X";
      } 
    }
  }
}
/*function ajout() {
	alert('element ajoute !');
	var nom = document.getElementById("newP").value; 
	var cod = document.getElementById("newC").value; 
	var laitB = document.getElementById("lait").checked;
	var glutenB = document.getElementById("gluten").checked;
	var oeufB = document.getElementById("oeuf").checked;
	var poissonB = document.getElementById("poisson").checked;
	var crustaceB = document.getElementById("crustace").checked;
	var mollusqueB = document.getElementById("mollusque").checked;
	var arachideB = document.getElementById("arachide").checked;
	var coqueB = document.getElementById("f. a coque").checked;
	var moutardeB = document.getElementById("moutarde").checked;
	var sesameB = document.getElementById("sesame").checked;
	var lupinB = document.getElementById("lupin").checked;
	var celeriB = document.getElementById("celeri").checked;
	var sulfiteB = document.getElementById("sulfite").checked;
	var sojaB = document.getElementById("soja").checked;
	
	produits.maredsous = {"code":cod, "Lait":laitB, "Gluten":glutenB, "Oeuf":oeufB, "Poisson":poissonB, "Crustace":crustaceB, 
					"Mollusque":mollusqueB, "Arachide":arachideB, "F. a coque":coqueB, "Moutarde":moutardeB, 
					"Sesame":sesameB, "Lupin":lupinB, "Celeri":celeriB, "Sulfite":sulfiteB, "Soja":sojaB};
	/*produits.beurre_alu = {"code":"100501", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false};
	produits.beurre_campagne = {"code":"503", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false};
	produits.maredsous = {"code":"441", "Lait":true, "Gluten":false, "Oeuf":false, "Poisson":false, "Crustace":false, 
					"Mollusque":false, "Arachide":false, "F. a coque":false, "Moutarde":false, 
					"Sesame":false, "Lupin":false, "Celeri":false, "Sulfite":false, "Soja":false};
	console.log(produits["maredsous"]["Lait"]);
	console.log(produits["maredsous"]["Gluten"]);
	console.log(produits["maredsous"]["code"]);
	console.log(cod);
	console.log(nom);
}*/
function printProduit() {
	//ajout();
	//var produitExist = "<table id=TableProduit><tr><td> Produits </td><td> Code ref </td>";
	//produits.sort();
	var produitExist = "<table id=TableProduit>";
	var cle = Object.keys(produits);
	for(var i=0; i<produits.property; i++) {
		var code = produits[cle[i]].code;
		produitExist += "<tr><td>"+ cle[i] +"</td><td> "+ code + " </td></tr>";
	}
	
	produitExist += "</tr></table>";
	document.getElementById("tableauP").innerHTML = produitExist;
}

//JSON.stringify()  ==> tableau vers JSON a svgder
// JSON.parse()  ==> JSON vers Object
/* test
var sampleObject = {a:1, b:2, c:{x:11, y:22}};
var jsonData = JSON.stringify(sampleObject);
var json = ''+ jsonData +'';
obj = JSON.parse(json);

console.log(obj.a);

console.log(obj.c);
-------------------------------
const fs = require('fs');
const content = JSON.stringify(output); //output = object

fs.writeFile("/tmp/phraseFreqs.json", content, 'utf8', function (err) {
    if (err) {
        return console.log(err);
    }

    console.log("The file was saved!");
}); 

*/